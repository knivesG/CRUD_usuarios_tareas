<div class="container">
      <div class="header">
        <h2>{{ isEditMode ? 'Editar Usuario' : 'Nuevo Usuario' }}</h2>
        <a routerLink="/usuarios" class="btn btn-secondary">
          ← Volver
        </a>
      </div>

      <div class="card">
        <div class="card-body">
          <div *ngIf="error" class="alert alert-error">
            {{ error }}
          </div>

          <form (ngSubmit)="onSubmit()" #userForm="ngForm">
            <div class="form-group">
              <label for="nombre">Nombre *</label>
              <input
                type="text"
                id="nombre"
                name="nombre"
                [(ngModel)]="user.nombre"
                required
                class="form-control"
                placeholder="Ingrese el nombre del usuario"
                #nombre="ngModel"
              >
              <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" 
                   class="error-message">
                El nombre es requerido
              </div>
            </div>

            <div class="form-group">
              <label for="email">Email *</label>
              <input
                type="email"
                id="email"
                name="email"
                [(ngModel)]="user.email"
                required
                email
                class="form-control"
                placeholder="Ingrese el email del usuario"
                #email="ngModel"
              >
              <div *ngIf="email.invalid && (email.dirty || email.touched)" 
                   class="error-message">
                <div *ngIf="email.errors?.['required']">El email es requerido</div>
                <div *ngIf="email.errors?.['email']">El formato del email no es válido</div>
              </div>
            </div>
            
            <div class="form-group">
              <label for="fecha_nacimiento">Fecha de nacimiento </label>
              <input
                  type="date"
                  id="fecha_nacimiento"
                  name="fecha_nacimiento"
                  [(ngModel)]="user.fecha_nacimiento"
                  class="form-control"
                >            
            </div>

            <div class="form-actions">
              <button
                type="submit"
                class="btn btn-primary"
                [disabled]="userForm.invalid || loading"
              >
                <span *ngIf="loading">Guardando...</span>
                <span *ngIf="!loading">
                  {{ isEditMode ? 'Actualizar' : 'Crear' }} Usuario
                </span>
              </button>
              <a routerLink="/usuarios" class="btn btn-outline">
                Cancelar
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>